

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Map view and spatial operations &mdash; metatron discovery docs 0.4.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/layout.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/layout.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Filter" href="filters.html" />
    <link rel="prev" title="Chart style attributes" href="chart_style.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/metatron-docs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.4.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
                  <!-- 현재 설정 언어가 영어일 때 한국어 링크 삽입 -->
					 <!-- 하위 페이지에서 한국어 페이지로의 링크 -->
					 <!-- 최상위 페이지에서 한국어 페이지로의 링크 -->
					 <!-- 영문 pdf 링크 -->
					<li><a class="lang_sel" href="../../../index.html">한국어로 보기</a></li>
					<li><a class="lang_sel" href="../../../latex/metatron-doc-user_en.pdf">View PDF version</a></li>
                 
              </ul>
              <p class="caption"><span class="caption-text">Metatron Discovery</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../part00/index.html">Discovery Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part01/index.html">Introduction of Metatron Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part02/index.html">Data Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part03/index.html">Workspace</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Workbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="create_a_workbook.html">Create a workbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="manage_dashboards.html">Dashboard</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="manage_charts.html">Chart</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="composition_of_the_data_column_list.html">Data column list</a></li>
<li class="toctree-l3"><a class="reference internal" href="pivoting.html">Draw a chart (pivoting)</a></li>
<li class="toctree-l3"><a class="reference internal" href="chart_types.html">Select a chart type</a></li>
<li class="toctree-l3"><a class="reference internal" href="chart_style.html">Chart style attributes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Map view and spatial operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Location dimensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">Map layer shelves</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Style properties of map view layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Spatial analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="filters.html">Filter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../part05/index.html">Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part06/index.html">Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part07/index.html">Data Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part08/index.html">Account management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part09/index.html">Data Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part10/index.html">Engine Monitoring</a></li>
</ul>
<p class="caption"><span class="caption-text">EX-pack for Workflow Integrator</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integrator/part01/index.html">Introduction of Integrator Expansion Pack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrator/part02/index.html">Workflow list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrator/part03/index.html">Workflow editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrator/part04/index.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrator/part05/index.html">Use cases</a></li>
</ul>
<p class="caption"><span class="caption-text">EX-pack for Anomaly Detection</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part01/index.html">Introduction of Metatron Anomaly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part02/index.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part03/index.html">Viewing alarms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part04/index.html">Alarm Rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part05/index.html">Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part06/index.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anomaly/part07/index.html">Search</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">metatron discovery docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Workbook</a> &raquo;</li>
        
          <li><a href="manage_charts.html">Chart</a> &raquo;</li>
        
      <li>Map view and spatial operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/discovery/part04/map_chart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>Map view and spatial operations<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Metatron Discovery, from version 3.1.0 and up, offers a <strong>map view</strong> function for visualizations of location data. Creating a chart in map view involves different conditions compared to other chart types.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/mapview_main.jpg" src="../../_images/mapview_main.jpg" />
</div>
</div></blockquote>
<ul class="simple">
<li><p>At least one <strong>location</strong> dimension is required.</p></li>
<li><p>Data is placed on <strong>map layer shelves</strong> instead of the row/column/intersection shelves.</p></li>
<li><p><strong>Style properties</strong> are set for each layer.</p></li>
<li><p><strong>Spatial operations</strong> are provided.</p></li>
</ul>
<div class="section" id="id2">
<h2>Location dimensions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>To use map view, dimension columns of WKT geometry types such as <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">LineString</span></code>, and  <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> must be placed on the layer shelf. There are largely three types of location data.</p>
<ul>
<li><p><strong>Point:</strong> This is a 2D coordinate geometry type comprised of x and y values. Similar to GPS data, a point has a latitude and longitude.</p></li>
<li><p><strong>Line:</strong> This is a geometry type with line coordinates. WKT representations of LineString and MultiLineString are supported.</p></li>
<li><p><strong>Polygon</strong>: This is a geometry type with shape coordinates. WKT representations of Polygon and MultiPolygon are supported.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_01.jpg" src="../../_images/map_01.jpg" />
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2>Map layer shelves<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_02.jpg" src="../../_images/map_02.jpg" />
</div>
</div></blockquote>
<p>Map view uses map layer shelves instead of the row/column/intersection shelves that are used by other chart types. A map layer shelf requires at least one location dimension.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_03.jpg" src="../../_images/map_03.jpg" />
</div>
</div></blockquote>
<p>When a string dimension is placed on a map layer shelf, data points are colored based on its elements; when the mouse is over a data point, the corresponding string is displayed in the data tooltip.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_04.jpg" src="../../_images/map_04.jpg" />
</div>
</div></blockquote>
<p>또한 측정값을 레이어 선반에 배치하면 측정값으로 색상을 분류하고 동시에 해당 측정값을 기준으로 포인트 크기를 다르게 표현합니다. 차원값과 마찬가지로 툴팁에 해당 측정값이 표기됩니다.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_05.jpg" src="../../_images/map_05.jpg" />
</div>
</div></blockquote>
<div class="section" id="id4">
<h3>Add layer shelf<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Click the <code class="docutils literal notranslate"><span class="pre">+</span></code> button on the right of a layer shelf to add another layer on top of the first layer. Each layer must use a different data source, and columns of only one data source are allowed to be placed per layer. Currently, up to two layer shelves are supported.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_addlayer.jpg" src="../../_images/map_addlayer.jpg" />
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="id5">
<h2>Style properties of map view layer<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>Common setting<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>지도 레이어에서 기본 지도를 표현하는 맵 스타일의 유형을 선택할 수 있습니다. OpenStreetMap을 활용하여 세 가지의 맵 스타일을 기본적으로 제공하고 있습니다.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_commonsetting.jpg" src="../../_images/map_commonsetting.jpg" />
</div>
</div></blockquote>
<ul class="simple">
<li><p>Open Street Map <strong>Light</strong> (Default)</p></li>
<li><p>Open Street Map <strong>Dark</strong></p></li>
<li><p>Open Street Map <strong>Colored</strong></p></li>
</ul>
</div>
<div class="section" id="id7">
<h3>Layer settings<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Sets how to express layers. When a layer shelf is added, separate setting menus are created for the first and second layers.</p>
<div class="section" id="point">
<h4>Layer properties of point type<a class="headerlink" href="#point" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_layersetting_point.jpg" src="../../_images/map_layersetting_point.jpg" />
</div>
</div></blockquote>
<ol class="arabic simple">
<li><p><strong>Layer Name</strong>: Set a name of the layer for legend and tooltip settings in the map view.</p></li>
<li><p><strong>Layer Type</strong>: Data points can be displayed on the map as <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Heatmap</span></code>, <code class="docutils literal notranslate"><span class="pre">Hexagon</span></code>, or <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>. The point type is selected by default.</p></li>
<li><p><strong>Point Type</strong>: With <code class="docutils literal notranslate"><span class="pre">Point</span></code> selected as the layer type, you can choose the shape of data points from among <code class="docutils literal notranslate"><span class="pre">Circle</span></code>, <code class="docutils literal notranslate"><span class="pre">Square</span></code>, and <code class="docutils literal notranslate"><span class="pre">Triangle</span></code>. Circle is selected by default. The shapes are displayed on the map when cluster use is set to Off.</p></li>
<li><p><strong>Color</strong>: Data points can be distinguished by color based on a string dimension or a measure on the layer shelf. A color can be picked from the palette if color standards are not available. The transparency can be set as a % value.</p></li>
<li><p><strong>Size</strong>: If the layer type is <code class="docutils literal notranslate"><span class="pre">Point</span></code>, data points can be distinguished by size based on a measure on the layer shelf.</p></li>
<li><p><strong>Outline</strong>: When set to On, an outline is drawn for each data point. The default is Off, and the color and thickness are customizable.</p></li>
<li><p><strong>Cluster Distance</strong>: With <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> selected as the layer type, you can set the cluster distance as a % value. The use of clusters is recommended to optimize browser performance when working with a large number of data points.</p></li>
<li><p><strong>Blur</strong>: With <code class="docutils literal notranslate"><span class="pre">Heatmap</span></code> selected as the layer type, you can adjust the blur effect on the heat map. The default is 20%.</p></li>
<li><p><strong>Radius</strong>: If the layer type is <code class="docutils literal notranslate"><span class="pre">Heatmap</span></code> or <code class="docutils literal notranslate"><span class="pre">Hexagon</span></code>, the display radius can be adjusted in the range of 1 to 100.</p></li>
</ol>
</div>
<div class="section" id="line">
<h4>Layer properties of line type<a class="headerlink" href="#line" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_layersetting_line.jpg" src="../../_images/map_layersetting_line.jpg" />
</div>
</div></blockquote>
<ol class="arabic simple">
<li><p><strong>Layer Name</strong>: Set a name of the layer for legend and tooltip settings in the map view.</p></li>
<li><p><strong>Color</strong>: Data points can be distinguished by color based on a string dimension or a measure on the layer shelf. A color can be picked from the palette if color standards are not available. The transparency can be set as a % value.</p></li>
<li><p><strong>Thickness</strong>: Set the line thickness.</p></li>
<li><p><strong>Line type</strong>: Choose among a solid line, dotted line, and dashed line. The default is a solid line.</p></li>
</ol>
</div>
<div class="section" id="polygon">
<h4>Layer properties of polygon type<a class="headerlink" href="#polygon" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_layersetting_polygon.jpg" src="../../_images/map_layersetting_polygon.jpg" />
</div>
</div></blockquote>
<ol class="arabic simple">
<li><p><strong>Layer Name</strong>: Set a name of the layer for legend and tooltip settings in the map view.</p></li>
<li><p><strong>Color</strong>: Data points can be distinguished by color based on a string dimension or a measure on the layer shelf. A color can be picked from the palette if color standards are not available. The transparency can be set as a % value.</p></li>
<li><p><strong>Outline</strong>: When set to On, an outline is drawn for each polygon. The default is Off, and the color and thickness are customizable.</p></li>
</ol>
</div>
</div>
<div class="section" id="id8">
<h3>Legend settings<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Choose whether or not to display a legend. The default is Off. The position of the legend can be set when turned on.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_legend.jpg" src="../../_images/map_legend.jpg" />
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="id9">
<h2>Spatial analysis<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>The map view of Metatron Discovery supports simple spatial analysis between two layers. Spatial operations can be set in the analysis tab on the left, and the current version supports two types of spatial operations.</p>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/map_analysis.jpg" src="../../_images/map_analysis.jpg" />
</div>
</div></blockquote>
<ul class="simple">
<li><p><strong>Within</strong>: This returns values within a distance designated between elements of the Main and Compare Layers.</p></li>
<li><p><strong>Intersection</strong>: This method returns overlapping areas between the Main and Compare Layers. Return values may vary with the scale of the geometry selected (Polygon &gt; Line &gt; Point).</p></li>
</ul>
<p>Additional settings that can be customized for each operation are as follows:</p>
<ul class="simple">
<li><p><strong>Buffer</strong>: Set a tolerant distance within which the Main and Compare Layers could be compared. The distance can be set either in meters or in kilometers.</p></li>
<li><p><strong>Choropleth map</strong>: The resulting layer can be displayed in the form of a choropleth map. The color scheme of the choropleth map can be selected; by default, colors are divided according to the data count. If the Main Layer includes a measure, colors can be changed based on its elements.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="filters.html" class="btn btn-neutral float-right" title="Filter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chart_style.html" class="btn btn-neutral float-left" title="Chart style attributes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, metatron team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>